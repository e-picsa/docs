import { Callout } from "nextra-theme-docs";

# Data Sharing

The `libs/data` library should be used for any hardcoded data that needs to be used across multiple apps,

E.g. the budget, crop-probability and seasonal calendar tools all include lists of crops.

![](./images/data-sharing-example.png)

## Data with Icons

Any file assets linked from data will also need to be manually imported into projects, using the `project.json`
to copy assets into local build and referencing from the `MatIconRegistry`

Further documentation exists for [Sharing Assets](./assets.mdx) and [Custom Icons](./icons.mdx), although
the data lib also contains utility methods to simplify the process.

### Import assets

Assest related to a specific set of data should be placed in a nested child folder,
e.g. svg icons related to weather data are placed in `libs/data/weather/svgs`

These folders should then be remapped to the project asset folder, using the `assets/svgs` folder by convention, i.e.

```json
{ "glob": "*.svg", "input": "libs/data/weather/svgs", "output": "assets/svgs/weather" },
```

### Register custom mat-icons

A utility `DataIconRegistry` service has been created to facilitate the process of registering custom mat icons,
simply import the service and specify the set of data icons for registration

```ts
import { DataIconRegistry } from '@picsa/data';

constructor(dataIconRegistry: DataIconRegistry){
 dataIconRegistry.registerMatIcons('weather');
}
```

All icons will be prefixed by `picsa_` and the name of the dataset, e.g. `weather`.
These can be referenced from frontend code using the `svgIcon` identifier. E.g. `rain` icon:

```html
<mat-icon svgIcon="picsa_weather_rain" />
```

---

<Callout emoji="ðŸ’¡">
  **Tip** If icons have not been imported you should see a helpful console error
  to inform of missing imports
</Callout>
![](./images/data-sharing-error.png)
